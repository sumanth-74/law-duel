@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;800&family=Inter+Tight:wght@400;500;600;700;800&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Animated blob effects */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Shimmer animation for premium effects */
@keyframes shimmer {
  0% {
    background-position: -250px 0;
  }
  100% {
    background-position: 250px 0;
  }
}

/* Epic floating animation */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

/* Pulse glow for magical effects */
@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.5), 0 0 40px rgba(168, 85, 247, 0.3), 0 0 60px rgba(168, 85, 247, 0.1);
  }
  50% {
    box-shadow: 0 0 30px rgba(168, 85, 247, 0.8), 0 0 60px rgba(168, 85, 247, 0.5), 0 0 80px rgba(168, 85, 247, 0.3);
  }
}

/* Epic gradient animation */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Magical sparkle effect */
@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Epic text glow */
.epic-text-glow {
  text-shadow: 
    0 0 10px rgba(168, 85, 247, 0.8),
    0 0 20px rgba(168, 85, 247, 0.6),
    0 0 30px rgba(168, 85, 247, 0.4),
    0 0 40px rgba(168, 85, 247, 0.2);
}

/* Luxury card effect */
.luxury-card {
  background: linear-gradient(135deg, 
    rgba(88, 28, 135, 0.9), 
    rgba(157, 23, 77, 0.9), 
    rgba(88, 28, 135, 0.9));
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
}

/* Premium border animation */
@keyframes borderRotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.premium-border::before {
  content: '';
  position: absolute;
  inset: -2px;
  padding: 2px;
  background: linear-gradient(45deg, #a855f7, #ec4899, #a855f7);
  border-radius: inherit;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  animation: borderRotate 4s linear infinite;
}

/* Epic shimmer animation */
.animate-shimmer {
  animation: shimmer 2s linear infinite;
}

/* Legendary glow pulse */
@keyframes legendaryGlow {
  0%, 100% {
    filter: drop-shadow(0 0 20px rgba(168, 85, 247, 0.8)) 
            drop-shadow(0 0 40px rgba(168, 85, 247, 0.6)) 
            drop-shadow(0 0 60px rgba(168, 85, 247, 0.4));
  }
  50% {
    filter: drop-shadow(0 0 30px rgba(236, 72, 153, 0.9)) 
            drop-shadow(0 0 60px rgba(236, 72, 153, 0.7)) 
            drop-shadow(0 0 90px rgba(236, 72, 153, 0.5));
  }
}

/* Magic orb animation */
@keyframes orbFloat {
  0%, 100% {
    transform: translateY(0) rotate(0deg) scale(1);
  }
  25% {
    transform: translateY(-10px) rotate(90deg) scale(1.1);
  }
  50% {
    transform: translateY(-20px) rotate(180deg) scale(1);
  }
  75% {
    transform: translateY(-10px) rotate(270deg) scale(1.1);
  }
}

/* Premium text shadow animation */
@keyframes textGlowPulse {
  0%, 100% {
    text-shadow: 
      0 0 20px rgba(168, 85, 247, 0.9),
      0 0 40px rgba(168, 85, 247, 0.7),
      0 0 60px rgba(168, 85, 247, 0.5),
      0 0 80px rgba(168, 85, 247, 0.3);
  }
  50% {
    text-shadow: 
      0 0 30px rgba(236, 72, 153, 1),
      0 0 60px rgba(236, 72, 153, 0.8),
      0 0 90px rgba(236, 72, 153, 0.6),
      0 0 120px rgba(236, 72, 153, 0.4);
  }
}

:root {
  /* Base Colors */
  --background: hsl(223, 39%, 7%);
  --foreground: hsl(223, 15%, 91%);
  --card: hsl(223, 39%, 10%);
  --card-foreground: hsl(223, 15%, 91%);
  --popover: hsl(223, 39%, 10%);
  --popover-foreground: hsl(223, 15%, 91%);
  --primary: hsl(235, 85%, 63%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(223, 39%, 10%);
  --secondary-foreground: hsl(223, 15%, 91%);
  --muted: hsl(223, 7%, 56%);
  --muted-foreground: hsl(223, 7%, 56%);
  --accent: hsl(223, 39%, 10%);
  --accent-foreground: hsl(235, 85%, 63%);
  --destructive: hsl(355, 78%, 60%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(223, 15%, 15%);
  --input: hsl(220, 27%, 18%);
  --ring: hsl(235, 85%, 63%);
  
  /* Chart Colors */
  --chart-1: hsl(235, 85%, 63%);
  --chart-2: hsl(159, 100%, 36%);
  --chart-3: hsl(42, 93%, 56%);
  --chart-4: hsl(147, 79%, 42%);
  --chart-5: hsl(341, 75%, 51%);
  
  /* Custom Brand Colors */
  --dark-bg: hsl(223, 39%, 7%);
  --panel: hsl(223, 47%, 10%);
  --panel-2: hsl(218, 47%, 7%);
  --arcane: hsl(235, 85%, 63%);
  --mystic-gold: hsl(42, 55%, 57%);
  --success: hsl(159, 80%, 56%);
  --danger: hsl(355, 78%, 60%);
  --ink: hsl(223, 15%, 91%);
  
  /* Typography */
  --font-cinzel: 'Cinzel', serif;
  --font-inter: 'Inter Tight', system-ui, sans-serif;
  --font-sans: 'Inter Tight', system-ui, sans-serif;
  --font-serif: 'Cinzel', serif;
  --font-mono: 'JetBrains Mono', monospace;
  
  /* Sizing */
  --radius: 1.3rem;
  
  /* Shadows */
  --shadow: 0 14px 40px hsla(0, 0%, 0%, 0.45), inset 0 1px 0 hsla(0, 0%, 100%, 0.04);
  --shadow-2xs: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00);
  --shadow-xs: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00);
  --shadow-sm: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00), 0px 1px 2px -1px hsla(235, 85%, 63%, 0.00);
  --shadow-md: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00), 0px 2px 4px -1px hsla(235, 85%, 63%, 0.00);
  --shadow-lg: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00), 0px 4px 6px -1px hsla(235, 85%, 63%, 0.00);
  --shadow-xl: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00), 0px 8px 10px -1px hsla(235, 85%, 63%, 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsla(235, 85%, 63%, 0.00);
  
  /* Background Gradients */
  --bg-grad: radial-gradient(1200px 600px at 10% -10%, hsl(223, 54%, 25%) 0%, transparent 60%), 
             radial-gradient(900px 500px at 90% 110%, hsl(303, 40%, 22%) 0%, transparent 60%);
}

.dark {
  --background: hsl(223, 39%, 7%);
  --foreground: hsl(223, 15%, 91%);
  --card: hsl(223, 39%, 10%);
  --card-foreground: hsl(223, 15%, 91%);
  --popover: hsl(223, 39%, 10%);
  --popover-foreground: hsl(223, 15%, 91%);
  --primary: hsl(235, 85%, 63%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(223, 39%, 10%);
  --secondary-foreground: hsl(223, 15%, 91%);
  --muted: hsl(223, 7%, 56%);
  --muted-foreground: hsl(223, 7%, 56%);
  --accent: hsl(223, 39%, 10%);
  --accent-foreground: hsl(235, 85%, 63%);
  --destructive: hsl(355, 78%, 60%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(223, 15%, 15%);
  --input: hsl(220, 27%, 18%);
  --ring: hsl(235, 85%, 63%);
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-family: var(--font-inter);
  }

  body {
    @apply font-sans antialiased;
    background: var(--dark-bg);
    background-image: var(--bg-grad);
    color: var(--ink);
    font-family: var(--font-inter);
    overflow-x: hidden;
  }

  /* Typography */
  .font-cinzel {
    font-family: var(--font-cinzel);
  }

  .font-inter {
    font-family: var(--font-inter);
  }

  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}

@layer components {
  /* Noise overlay effect */
  .noise-overlay::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".05"/></svg>');
    mix-blend-mode: overlay;
    opacity: 0.35;
    z-index: -1;
  }

  /* Panel styling */
  .panel {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.02), transparent), hsl(223, 47%, 10%);
    border: 1px solid hsla(0, 0%, 100%, 0.06);
    box-shadow: var(--shadow);
    backdrop-filter: saturate(120%) blur(6px);
  }

  .panel-2 {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.02), transparent), hsl(218, 47%, 7%);
    border: 1px solid hsla(0, 0%, 100%, 0.06);
  }

  /* Avatar effects */
  .avatar-glow {
    filter: drop-shadow(0 12px 24px hsla(0, 0%, 0%, 0.55));
  }

  .avatar-sprite {
    background: conic-gradient(from 210deg, #5837ff, #a642ff, #5ad6ff, #5837ff);
    -webkit-mask: radial-gradient(circle at 60% 35%, transparent 18px, black 19px), linear-gradient(black, black);
    mask: radial-gradient(circle at 60% 35%, transparent 18px, black 19px), linear-gradient(black, black);
    box-shadow: inset 0 0 0 1px hsla(0, 0%, 100%, 0.15);
    transition: transform 0.25s ease, filter 0.25s ease;
  }

  /* Button styles */
  .btn-primary {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.08), hsla(0, 0%, 0%, 0.1)), 
                linear-gradient(135deg, hsl(235, 85%, 63%), hsl(235, 85%, 53%));
    box-shadow: 0 12px 28px hsla(235, 85%, 63%, 0.35);
    border: none;
    color: white;
    font-weight: 700;
  }

  .btn-primary:hover {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.12), hsla(0, 0%, 0%, 0.05)), 
                linear-gradient(135deg, hsl(235, 85%, 68%), hsl(235, 85%, 58%));
    box-shadow: 0 16px 32px hsla(235, 85%, 63%, 0.45);
  }

  .btn-secondary {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.08), hsla(0, 0%, 0%, 0.1)), 
                linear-gradient(135deg, hsl(42, 55%, 57%), hsl(42, 55%, 47%));
    box-shadow: 0 12px 28px hsla(42, 55%, 57%, 0.35);
    border: none;
    color: hsl(223, 39%, 7%);
    font-weight: 700;
  }

  .btn-secondary:hover {
    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0.12), hsla(0, 0%, 0%, 0.05)), 
                linear-gradient(135deg, hsl(42, 55%, 62%), hsl(42, 55%, 52%));
    box-shadow: 0 16px 32px hsla(42, 55%, 57%, 0.45);
  }

  /* Archetype card hover effects */
  .archetype-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 50px hsla(0, 0%, 0%, 0.6), inset 0 1px 0 hsla(0, 0%, 100%, 0.08);
  }

  /* Timer ring */
  .timer-ring {
    stroke-dasharray: 283;
    stroke-dashoffset: 0;
    transform-origin: center;
    transition: stroke-dashoffset 0.1s linear;
  }

  /* Question reveal animation */
  .question-reveal {
    animation: revealSlide 0.6s ease-out;
  }

  @keyframes revealSlide {
    from { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  /* Pulsing glow animation */
  .animate-pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }

  @keyframes pulseGlow {
    0%, 100% { 
      box-shadow: 0 0 20px hsla(235, 85%, 63%, 0.3), 0 12px 28px hsla(235, 85%, 63%, 0.35); 
    }
    50% { 
      box-shadow: 0 0 30px hsla(235, 85%, 63%, 0.6), 0 16px 32px hsla(235, 85%, 63%, 0.45); 
    }
  }

  /* Motion reduction support */
  @media (prefers-reduced-motion: reduce) {
    .animate-pulse-glow,
    .question-reveal,
    .archetype-card:hover {
      animation: none;
      transition: none;
    }
    
    .timer-ring {
      transition: none;
    }
  }
}

@layer utilities {
  /* Color utilities */
  .text-dark-bg {
    color: var(--dark-bg);
  }
  
  .text-panel {
    color: var(--panel);
  }
  
  .text-arcane {
    color: var(--arcane);
  }
  
  .text-mystic-gold {
    color: var(--mystic-gold);
  }
  
  .text-success {
    color: var(--success);
  }
  
  .text-danger {
    color: var(--danger);
  }
  
  .text-ink {
    color: var(--ink);
  }
  
  .text-muted {
    color: var(--muted);
  }

  .bg-dark-bg {
    background-color: var(--dark-bg);
  }
  
  .bg-panel {
    background-color: var(--panel);
  }
  
  .bg-panel-2 {
    background-color: var(--panel-2);
  }
  
  .bg-arcane {
    background-color: var(--arcane);
  }
  
  .bg-mystic-gold {
    background-color: var(--mystic-gold);
  }
  
  .bg-success {
    background-color: var(--success);
  }
  
  .bg-danger {
    background-color: var(--danger);
  }

  /* Border utilities */
  .border-arcane {
    border-color: var(--arcane);
  }
  
  .border-mystic-gold {
    border-color: var(--mystic-gold);
  }
  
  .border-success {
    border-color: var(--success);
  }
  
  .border-danger {
    border-color: var(--danger);
  }

  /* Focus states for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-arcane focus:ring-offset-2 focus:ring-offset-dark-bg;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .panel {
      border-width: 2px;
      border-color: hsla(0, 0%, 100%, 0.3);
    }
    
    .btn-primary,
    .btn-secondary {
      border: 2px solid currentColor;
    }
  }
}
